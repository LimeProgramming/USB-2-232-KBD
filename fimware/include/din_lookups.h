
#include "pico.h"

//these are really long and I wanted them out of the way

//--------------------------------------------------------------------+
//          Translation Tables
//--------------------------------------------------------------------+


// Look up table to convert USB keyboard keycodes to XT or AT keycodes.
// These values are for pressing the keys
// [KeyCode from TinyUSB][XT/AT][PS2KEYCODES]
const uint8_t USB2PS2Make[][2][2] = {
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_NONE
    { {0x00,0x00}, {0x00,0x00} },  //BLANK
    { {0x00,0x00}, {0x00,0x00} },  //BLANK
    { {0x00,0x00}, {0x00,0x00} },  //BLANK
    { {0x00,0x1E}, {0x00,0x1C} },  //HID_KEY_A
    { {0x00,0x30}, {0x00,0x32} },  //HID_KEY_B
    { {0x00,0x2E}, {0x00,0x21} },  //HID_KEY_C
    { {0x00,0x20}, {0x00,0x23} },  //HID_KEY_D
    { {0x00,0x12}, {0x00,0x24} },  //HID_KEY_E
    { {0x00,0x21}, {0x00,0x2B} },  //HID_KEY_F
    { {0x00,0x22}, {0x00,0x34} },  //HID_KEY_G
    { {0x00,0x23}, {0x00,0x33} },  //HID_KEY_H
    { {0x00,0x17}, {0x00,0x43} },  //HID_KEY_I
    { {0x00,0x24}, {0x00,0x3B} },  //HID_KEY_J
    { {0x00,0x25}, {0x00,0x42} },  //HID_KEY_K
    { {0x00,0x26}, {0x00,0x4B} },  //HID_KEY_L
    { {0x00,0x32}, {0x00,0x3A} },  //HID_KEY_M
    { {0x00,0x31}, {0x00,0x31} },  //HID_KEY_N
    { {0x00,0x18}, {0x00,0x44} },  //HID_KEY_O
    { {0x00,0x19}, {0x00,0x4D} },  //HID_KEY_P
    { {0x00,0x10}, {0x00,0x15} },  //HID_KEY_Q
    { {0x00,0x13}, {0x00,0x2D} },  //HID_KEY_R
    { {0x00,0x1F}, {0x00,0x1B} },  //HID_KEY_S
    { {0x00,0x14}, {0x00,0x2C} },  //HID_KEY_T
    { {0x00,0x16}, {0x00,0x3C} },  //HID_KEY_U
    { {0x00,0x2F}, {0x00,0x2A} },  //HID_KEY_V
    { {0x00,0x11}, {0x00,0x1D} },  //HID_KEY_W
    { {0x00,0x2D}, {0x00,0x22} },  //HID_KEY_X
    { {0x00,0x15}, {0x00,0x35} },  //HID_KEY_Y
    { {0x00,0x2C}, {0x00,0x1A} },  //HID_KEY_Z
    { {0x00,0x02}, {0x00,0x16} },  //HID_KEY_1
    { {0x00,0x03}, {0x00,0x1E} },  //HID_KEY_2
    { {0x00,0x04}, {0x00,0x26} },  //HID_KEY_3
    { {0x00,0x05}, {0x00,0x25} },  //HID_KEY_4
    { {0x00,0x06}, {0x00,0x2E} },  //HID_KEY_5
    { {0x00,0x07}, {0x00,0x36} },  //HID_KEY_6
    { {0x00,0x08}, {0x00,0x3D} },  //HID_KEY_7
    { {0x00,0x09}, {0x00,0x3E} },  //HID_KEY_8
    { {0x00,0x0A}, {0x00,0x46} },  //HID_KEY_9
    { {0x00,0x0B}, {0x00,0x45} },  //HID_KEY_0
    { {0x00,0x1C}, {0x00,0x5A} },  //HID_KEY_ENTER
    { {0x00,0x01}, {0x00,0x76} },  //HID_KEY_ESCAPE
    { {0x00,0x0E}, {0x00,0x66} },  //HID_KEY_BACKSPACE
    { {0x00,0x0F}, {0x00,0x0D} },  //HID_KEY_TAB
    { {0x00,0x39}, {0x00,0x29} },  //HID_KEY_SPACE
    { {0x00,0x0C}, {0x00,0x4E} },  //HID_KEY_MINUS
    { {0x00,0x0D}, {0x00,0x55} },  //HID_KEY_EQUAL
    { {0x00,0x1A}, {0x00,0x54} },  //HID_KEY_BRACKET_LEFT
    { {0x00,0x1B}, {0x00,0x5B} },  //HID_KEY_BRACKET_RIGHT
    { {0x00,0x2B}, {0x00,0x5D} },  //HID_KEY_BACKSLASH
    { {0x00,0x2B}, {0x00,0x5D} },  //HID_KEY_EUROPE_1
    { {0x00,0x27}, {0x00,0x4C} },  //HID_KEY_SEMICOLON
    { {0x00,0x28}, {0x00,0x52} },  //HID_KEY_APOSTROPHE
    { {0x00,0x29}, {0x00,0x0E} },  //HID_KEY_GRAVE
    { {0x00,0x33}, {0x00,0x41} },  //HID_KEY_COMMA
    { {0x00,0x34}, {0x00,0x49} },  //HID_KEY_PERIOD
    { {0x00,0x35}, {0x00,0x4A} },  //HID_KEY_SLASH
    { {0x00,0x3A}, {0x00,0x58} },  //HID_KEY_CAPS_LOCK
    { {0x00,0x3B}, {0x00,0x05} },  //HID_KEY_F1
    { {0x00,0x3C}, {0x00,0x06} },  //HID_KEY_F2
    { {0x00,0x3D}, {0x00,0x04} },  //HID_KEY_F3
    { {0x00,0x3E}, {0x00,0x0C} },  //HID_KEY_F4
    { {0x00,0x3F}, {0x00,0x03} },  //HID_KEY_F5
    { {0x00,0x40}, {0x00,0x0B} },  //HID_KEY_F6
    { {0x00,0x41}, {0x00,0x83} },  //HID_KEY_F7
    { {0x00,0x42}, {0x00,0x0A} },  //HID_KEY_F8
    { {0x00,0x43}, {0x00,0x01} },  //HID_KEY_F9
    { {0x00,0x44}, {0x00,0x09} },  //HID_KEY_F10
    { {0x00,0x57}, {0x00,0x78} },  //HID_KEY_F11
    { {0x00,0x58}, {0x00,0x07} },  //HID_KEY_F12
    { {0xE0,0x37}, {0xE0,0x7C} },  //HID_KEY_PRINT_SCREEN
    { {0x00,0x46}, {0x00,0x7E} },  //HID_KEY_SCROLL_LOCK
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_PAUSE
    { {0xE0,0x52}, {0xE0,0x70} },  //HID_KEY_INSERT
    { {0xE0,0x47}, {0xE0,0x6C} },  //HID_KEY_HOME
    { {0xE0,0x49}, {0xE0,0x7D} },  //HID_KEY_PAGE_UP
    { {0xE0,0x53}, {0xE0,0x71} },  //HID_KEY_DELETE
    { {0xE0,0x4F}, {0xE0,0x69} },  //HID_KEY_END
    { {0xE0,0x51}, {0xE0,0x7A} },  //HID_KEY_PAGE_DOWN
    { {0xE0,0x4D}, {0xE0,0x74} },  //HID_KEY_ARROW_RIGHT
    { {0xE0,0x4B}, {0xE0,0x6B} },  //HID_KEY_ARROW_LEFT
    { {0xE0,0x50}, {0xE0,0x72} },  //HID_KEY_ARROW_DOWN
    { {0xE0,0x48}, {0xE0,0x75} },  //HID_KEY_ARROW_UP
    { {0x00,0x45}, {0x00,0x77} },  //HID_KEY_NUM_LOCK
    { {0xE0,0x35}, {0xE0,0x4A} },  //HID_KEY_KEYPAD_DIVIDE
    { {0x00,0x37}, {0x00,0x7C} },  //HID_KEY_KEYPAD_MULTIPLY
    { {0x00,0x4A}, {0x00,0x7B} },  //HID_KEY_KEYPAD_SUBTRACT
    { {0x00,0x4E}, {0x00,0x79} },  //HID_KEY_KEYPAD_ADD
    { {0xE0,0x1C}, {0xE0,0x5a} },  //HID_KEY_KEYPAD_ENTER
    { {0x00,0x4F}, {0x00,0x69} },  //HID_KEY_KEYPAD_1
    { {0x00,0x50}, {0x00,0x72} },  //HID_KEY_KEYPAD_2
    { {0x00,0x51}, {0x00,0x7A} },  //HID_KEY_KEYPAD_3
    { {0x00,0x4B}, {0x00,0x6B} },  //HID_KEY_KEYPAD_4
    { {0x00,0x4C}, {0x00,0x73} },  //HID_KEY_KEYPAD_5
    { {0x00,0x4D}, {0x00,0x74} },  //HID_KEY_KEYPAD_6
    { {0x00,0x47}, {0x00,0x6C} },  //HID_KEY_KEYPAD_7
    { {0x00,0x48}, {0x00,0x75} },  //HID_KEY_KEYPAD_8
    { {0x00,0x49}, {0x00,0x7D} },  //HID_KEY_KEYPAD_9
    { {0x00,0x52}, {0x00,0x70} },  //HID_KEY_KEYPAD_0
    { {0x00,0x53}, {0x00,0x71} },  //HID_KEY_KEYPAD_DECIMAL
    { {0x00,0x56}, {0x00,0x61} },  //HID_KEY_EUROPE_2
    { {0xE0,0x5D}, {0xE0,0x2F} },  //HID_KEY_APPLICATION
    { {0x00,0x00}, {0xE0,0x37} },  //HID_KEY_POWER
    { {0x00,0x59}, {0x00,0x0F} },  //HID_KEY_KEYPAD_EQUAL
    { {0x00,0x5B}, {0x00,0x1F} },  //HID_KEY_F13
    { {0x00,0x5C}, {0x00,0x75} },  //HID_KEY_F14
    { {0x00,0x5D}, {0x00,0x1B} },  //HID_KEY_F15
    { {0x00,0x63}, {0x00,0x78} },  //HID_KEY_F16
    { {0x00,0x64}, {0x00,0x79} },  //HID_KEY_F17
    { {0x00,0x65}, {0x00,0x7A} },  //HID_KEY_F18
    { {0x00,0x66}, {0x00,0x0E} },  //HID_KEY_F19
    { {0x00,0x67}, {0x00,0x7B} },  //HID_KEY_F20
    { {0x00,0x68}, {0x00,0x7C} },  //HID_KEY_F21
    { {0x00,0x69}, {0x00,0x4F} },  //HID_KEY_F22
    { {0x00,0x6A}, {0x00,0x7D} },  //HID_KEY_F23
    { {0x00,0x6B}, {0x00,0x4B} },  //HID_KEY_F24
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_EXECUTE
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_HELP
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_MENU
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_SELECT
    { {0x00,0x00}, {0xE0,0x3B} },  //HID_KEY_STOP
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_AGAIN
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_UNDO
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_CUT
    { {0x00,0x00}, {0x00,0x6F} },  //HID_KEY_COPY
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_PASTE
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_FIND
    { {0x00,0x00}, {0xE0,0x23} },  //HID_KEY_MUTE
    { {0x00,0x00}, {0xE0,0x32} },  //HID_KEY_VOLUME_UP
    { {0x00,0x00}, {0xE0,0x21} },  //HID_KEY_VOLUME_DOWN
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LOCKING_CAPS_LOCK
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LOCKING_NUM_LOCK
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LOCKING_SCROLL_LOCK
    { {0x00,0x7E}, {0x00,0x6D} },  //HID_KEY_KEYPAD_COMMA
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_KEYPAD_EQUAL_SIGN
    { {0x00,0x73}, {0x00,0x51} },  //HID_KEY_KANJI1
    { {0x00,0x70}, {0x00,0x13} },  //HID_KEY_KANJI2
    { {0x00,0x7D}, {0x00,0x6A} },  //HID_KEY_KANJI3
    { {0x00,0x79}, {0x00,0x64} },  //HID_KEY_KANJI4
    { {0x00,0x7B}, {0x00,0x76} },  //HID_KEY_KANJI5
    { {0x00,0x5C}, {0x00,0x27} },  //HID_KEY_KANJI6
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_KANJI7
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_KANJI8
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_KANJI9
    { {0x00,0xF2}, {0x00,0xF2} },  //HID_KEY_LANG1
    { {0x00,0xF1}, {0x00,0xF1} },  //HID_KEY_LANG2
    { {0x00,0x78}, {0x00,0x63} },  //HID_KEY_LANG3
    { {0x00,0x77}, {0x00,0x62} },  //HID_KEY_LANG4
    { {0x00,0x76}, {0x00,0x5F} },  //HID_KEY_LANG5
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LANG6
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LANG7
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LANG8
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_LANG9
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_ALTERNATE_ERASE
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_SYSREQ_ATTENTION
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_CANCEL
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_CLEAR
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_PRIOR
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_RETURN
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_SEPARATOR
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_OUT
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_OPER
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_CLEAR_AGAIN
    { {0x00,0x00}, {0x00,0x00} },  //HID_KEY_CRSEL_PROPS
    { {0x00,0x00}, {0x00,0x00} }   //HID_KEY_EXSEL
};


uint8_t const USB2PS2SMake[][2][2] = {
    { {0x00,0x1D}, {0x00,0x14} },  //HID_KEY_CONTROL_LEFT
    { {0x00,0x1A}, {0x00,0x12} },  //HID_KEY_SHIFT_LEFT
    { {0x00,0x38}, {0x00,0x11} },  //HID_KEY_ALT_LEFT
    { {0xE0,0x5B}, {0xE0,0x1F} },  //HID_KEY_GUI_LEFT
    { {0xE0,0x1D}, {0xE0,0x14} },  //HID_KEY_CONTROL_RIGHT
    { {0x00,0x36}, {0x00,0x59} },  //HID_KEY_SHIFT_RIGHT
    { {0xE0,0x38}, {0xE0,0x11} },  //HID_KEY_ALT_RIGHT
    { {0xE0,0x5C}, {0xE0,0x27} }   //HID_KEY_GUI_RIGHT
};

// Look up table to convert USB keyboard keycodes to XT or AT keycodes.
// These values are for depressing the keys
// [KeyCode from TinyUSB][XT/AT][PS2KEYCODES]
uint8_t const USB2PS2Break[][2][3] = {
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_NONE
    { {0x00,0x00}, {0x00,0x00,0x00} },  //BLANK
    { {0x00,0x00}, {0x00,0x00,0x00} },  //BLANK
    { {0x00,0x00}, {0x00,0x00,0x00} },  //BLANK
    { {0x00,0x9E}, {0x00,0xF0,0x1C} },  //HID_KEY_A
    { {0x00,0xB0}, {0x00,0xF0,0x32} },  //HID_KEY_B
    { {0x00,0xAE}, {0x00,0xF0,0x21} },  //HID_KEY_C
    { {0x00,0xA0}, {0x00,0xF0,0x23} },  //HID_KEY_D
    { {0x00,0x92}, {0x00,0xF0,0x24} },  //HID_KEY_E
    { {0x00,0xA1}, {0x00,0xF0,0x2B} },  //HID_KEY_F
    { {0x00,0xA2}, {0x00,0xF0,0x34} },  //HID_KEY_G
    { {0x00,0xA3}, {0x00,0xF0,0x33} },  //HID_KEY_H
    { {0x00,0x97}, {0x00,0xF0,0x43} },  //HID_KEY_I
    { {0x00,0xA4}, {0x00,0xF0,0x3B} },  //HID_KEY_J
    { {0x00,0xA5}, {0x00,0xF0,0x42} },  //HID_KEY_K
    { {0x00,0xA6}, {0x00,0xF0,0x4B} },  //HID_KEY_L
    { {0x00,0xB2}, {0x00,0xF0,0x3A} },  //HID_KEY_M
    { {0x00,0xB1}, {0x00,0xF0,0x31} },  //HID_KEY_N
    { {0x00,0x98}, {0x00,0xF0,0x44} },  //HID_KEY_O
    { {0x00,0x99}, {0x00,0xF0,0x4D} },  //HID_KEY_P
    { {0x00,0x90}, {0x00,0xF0,0x15} },  //HID_KEY_Q
    { {0x00,0x93}, {0x00,0xF0,0x2D} },  //HID_KEY_R
    { {0x00,0x9F}, {0x00,0xF0,0x1B} },  //HID_KEY_S
    { {0x00,0x94}, {0x00,0xF0,0x2C} },  //HID_KEY_T
    { {0x00,0x96}, {0x00,0xF0,0x3C} },  //HID_KEY_U
    { {0x00,0xAF}, {0x00,0xF0,0x2A} },  //HID_KEY_V
    { {0x00,0x91}, {0x00,0xF0,0x1D} },  //HID_KEY_W
    { {0x00,0xAD}, {0x00,0xF0,0x22} },  //HID_KEY_X
    { {0x00,0x95}, {0x00,0xF0,0x35} },  //HID_KEY_Y
    { {0x00,0xAC}, {0x00,0xF0,0x1A} },  //HID_KEY_Z
    { {0x00,0x82}, {0x00,0xF0,0x16} },  //HID_KEY_1
    { {0x00,0x83}, {0x00,0xF0,0x1E} },  //HID_KEY_2
    { {0x00,0x84}, {0x00,0xF0,0x26} },  //HID_KEY_3
    { {0x00,0x85}, {0x00,0xF0,0x25} },  //HID_KEY_4
    { {0x00,0x86}, {0x00,0xF0,0x2E} },  //HID_KEY_5
    { {0x00,0x87}, {0x00,0xF0,0x36} },  //HID_KEY_6
    { {0x00,0x88}, {0x00,0xF0,0x3D} },  //HID_KEY_7
    { {0x00,0x89}, {0x00,0xF0,0x3E} },  //HID_KEY_8
    { {0x00,0x8A}, {0x00,0xF0,0x46} },  //HID_KEY_9
    { {0x00,0x8B}, {0x00,0xF0,0x45} },  //HID_KEY_0
    { {0x00,0x9C}, {0x00,0xF0,0x5A} },  //HID_KEY_ENTER
    { {0x00,0x81}, {0x00,0xF0,0x76} },  //HID_KEY_ESCAPE
    { {0x00,0x8E}, {0x00,0xF0,0x66} },  //HID_KEY_BACKSPACE
    { {0x00,0x8F}, {0x00,0xF0,0x0D} },  //HID_KEY_TAB
    { {0x00,0xB9}, {0x00,0xF0,0x29} },  //HID_KEY_SPACE
    { {0x00,0x8C}, {0x00,0xF0,0x4E} },  //HID_KEY_MINUS
    { {0x00,0x8D}, {0x00,0xF0,0x55} },  //HID_KEY_EQUAL
    { {0x00,0x9A}, {0x00,0xF0,0x54} },  //HID_KEY_BRACKET_LEFT
    { {0x00,0x9B}, {0x00,0xF0,0x5B} },  //HID_KEY_BRACKET_RIGHT
    { {0x00,0xAB}, {0x00,0xF0,0x5D} },  //HID_KEY_BACKSLASH
    { {0x00,0xAB}, {0x00,0xF0,0x5D} },  //HID_KEY_EUROPE_1
    { {0x00,0xA7}, {0x00,0xF0,0x4C} },  //HID_KEY_SEMICOLON
    { {0x00,0xA8}, {0x00,0xF0,0x52} },  //HID_KEY_APOSTROPHE
    { {0x00,0xA9}, {0x00,0xF0,0x0E} },  //HID_KEY_GRAVE
    { {0x00,0xB3}, {0x00,0xF0,0x41} },  //HID_KEY_COMMA
    { {0x00,0xB4}, {0x00,0xF0,0x49} },  //HID_KEY_PERIOD
    { {0x00,0xB5}, {0x00,0xF0,0x4A} },  //HID_KEY_SLASH
    { {0x00,0xBA}, {0x00,0xF0,0x58} },  //HID_KEY_CAPS_LOCK
    { {0x00,0xBB}, {0x00,0xF0,0x05} },  //HID_KEY_F1
    { {0x00,0xBC}, {0x00,0xF0,0x06} },  //HID_KEY_F2
    { {0x00,0xBD}, {0x00,0xF0,0x04} },  //HID_KEY_F3
    { {0x00,0xBE}, {0x00,0xF0,0x0C} },  //HID_KEY_F4
    { {0x00,0xBF}, {0x00,0xF0,0x03} },  //HID_KEY_F5
    { {0x00,0xC0}, {0x00,0xF0,0x0B} },  //HID_KEY_F6
    { {0x00,0xC1}, {0x00,0xF0,0x83} },  //HID_KEY_F7
    { {0x00,0xC2}, {0x00,0xF0,0x0A} },  //HID_KEY_F8
    { {0x00,0xC3}, {0x00,0xF0,0x01} },  //HID_KEY_F9
    { {0x00,0xC4}, {0x00,0xF0,0x09} },  //HID_KEY_F10
    { {0x00,0xD7}, {0x00,0xF0,0x78} },  //HID_KEY_F11
    { {0x00,0xD8}, {0x00,0xF0,0x07} },  //HID_KEY_F12
    { {0xE0,0xB7}, {0xE0,0xF0,0x7C} },  //HID_KEY_PRINT_SCREEN
    { {0x00,0xC6}, {0x00,0xF0,0x7E} },  //HID_KEY_SCROLL_LOCK
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_PAUSE
    { {0xE0,0xD2}, {0xE0,0xF0,0x70} },  //HID_KEY_INSERT
    { {0xE0,0xC7}, {0xE0,0xF0,0x6C} },  //HID_KEY_HOME
    { {0xE0,0xC9}, {0xE0,0xF0,0x7D} },  //HID_KEY_PAGE_UP
    { {0xE0,0xD3}, {0xE0,0xF0,0x71} },  //HID_KEY_DELETE
    { {0xE0,0xCF}, {0xE0,0xF0,0x69} },  //HID_KEY_END
    { {0xE0,0xD1}, {0xE0,0xF0,0x7A} },  //HID_KEY_PAGE_DOWN
    { {0xE0,0xCD}, {0xE0,0xF0,0x74} },  //HID_KEY_ARROW_RIGHT
    { {0xE0,0xCB}, {0xE0,0xF0,0x6B} },  //HID_KEY_ARROW_LEFT
    { {0xE0,0xD0}, {0xE0,0xF0,0x72} },  //HID_KEY_ARROW_DOWN
    { {0xE0,0xC8}, {0xE0,0xF0,0x75} },  //HID_KEY_ARROW_UP
    { {0x00,0xC5}, {0x00,0xF0,0x77} },  //HID_KEY_NUM_LOCK
    { {0xE0,0xB5}, {0xE0,0xF0,0x4A} },  //HID_KEY_KEYPAD_DIVIDE
    { {0x00,0xB7}, {0x00,0xF0,0x7C} },  //HID_KEY_KEYPAD_MULTIPLY
    { {0x00,0xCA}, {0x00,0xF0,0x7B} },  //HID_KEY_KEYPAD_SUBTRACT
    { {0x00,0xCE}, {0x00,0xF0,0x79} },  //HID_KEY_KEYPAD_ADD
    { {0xE0,0x9C}, {0xE0,0xF0,0x5a} },  //HID_KEY_KEYPAD_ENTER
    { {0x00,0xCF}, {0x00,0xF0,0x69} },  //HID_KEY_KEYPAD_1
    { {0x00,0xD0}, {0x00,0xF0,0x72} },  //HID_KEY_KEYPAD_2
    { {0x00,0xD1}, {0x00,0xF0,0x7A} },  //HID_KEY_KEYPAD_3
    { {0x00,0xCB}, {0x00,0xF0,0x6B} },  //HID_KEY_KEYPAD_4
    { {0x00,0xCC}, {0x00,0xF0,0x73} },  //HID_KEY_KEYPAD_5
    { {0x00,0xCD}, {0x00,0xF0,0x74} },  //HID_KEY_KEYPAD_6
    { {0x00,0xC7}, {0x00,0xF0,0x6C} },  //HID_KEY_KEYPAD_7
    { {0x00,0xC8}, {0x00,0xF0,0x75} },  //HID_KEY_KEYPAD_8
    { {0x00,0xC9}, {0x00,0xF0,0x7D} },  //HID_KEY_KEYPAD_9
    { {0x00,0xD2}, {0x00,0xF0,0x70} },  //HID_KEY_KEYPAD_0
    { {0x00,0xD3}, {0x00,0xF0,0x71} },  //HID_KEY_KEYPAD_DECIMAL
    { {0x00,0xD6}, {0x00,0xF0,0x61} },  //HID_KEY_EUROPE_2
    { {0xE0,0xDD}, {0xE0,0xF0,0x2F} },  //HID_KEY_APPLICATION
    { {0x00,0x00}, {0xE0,0xF0,0x37} },  //HID_KEY_POWER
    { {0x00,0xD9}, {0x00,0xF0,0x0F} },  //HID_KEY_KEYPAD_EQUAL
    { {0x00,0xDB}, {0x00,0xF0,0x1F} },  //HID_KEY_F13
    { {0x00,0xDC}, {0x00,0xF0,0x75} },  //HID_KEY_F14
    { {0x00,0xDD}, {0x00,0xF0,0x1B} },  //HID_KEY_F15
    { {0x00,0xE3}, {0x00,0xF0,0x78} },  //HID_KEY_F16
    { {0x00,0xE4}, {0x00,0xF0,0x79} },  //HID_KEY_F17
    { {0x00,0xE5}, {0x00,0xF0,0x7A} },  //HID_KEY_F18
    { {0x00,0xE6}, {0x00,0xF0,0x0E} },  //HID_KEY_F19
    { {0x00,0xE7}, {0x00,0xF0,0x7B} },  //HID_KEY_F20
    { {0x00,0xE8}, {0x00,0xF0,0x7C} },  //HID_KEY_F21
    { {0x00,0xE9}, {0x00,0xF0,0x4F} },  //HID_KEY_F22
    { {0x00,0xEA}, {0x00,0xF0,0x7D} },  //HID_KEY_F23
    { {0x00,0xEB}, {0x00,0xF0,0x4B} },  //HID_KEY_F24
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_EXECUTE
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_HELP
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_MENU
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_SELECT
    { {0x00,0x00}, {0xE0,0xF0,0x3B} },  //HID_KEY_STOP
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_AGAIN
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_UNDO
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_CUT
    { {0x00,0x00}, {0x00,0xF0,0x6F} },  //HID_KEY_COPY
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_PASTE
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_FIND
    { {0x00,0x00}, {0xE0,0xF0,0x23} },  //HID_KEY_MUTE
    { {0x00,0x00}, {0xE0,0xF0,0x32} },  //HID_KEY_VOLUME_UP
    { {0x00,0x00}, {0xE0,0xF0,0x21} },  //HID_KEY_VOLUME_DOWN
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LOCKING_CAPS_LOCK
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LOCKING_NUM_LOCK
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LOCKING_SCROLL_LOCK
    { {0x00,0xFE}, {0x00,0xF0,0x6D} },  //HID_KEY_KEYPAD_COMMA
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_KEYPAD_EQUAL_SIGN
    { {0x00,0xF3}, {0x00,0xF0,0x51} },  //HID_KEY_KANJI1
    { {0x00,0xF0}, {0x00,0xF0,0x13} },  //HID_KEY_KANJI2
    { {0x00,0xFD}, {0x00,0xF0,0x6A} },  //HID_KEY_KANJI3
    { {0x00,0xF9}, {0x00,0xF0,0x64} },  //HID_KEY_KANJI4
    { {0x00,0xFB}, {0x00,0xF0,0x76} },  //HID_KEY_KANJI5
    { {0x00,0xDC}, {0x00,0xF0,0x27} },  //HID_KEY_KANJI6
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_KANJI7
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_KANJI8
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_KANJI9
    { {0x00,0x00}, {0x00,0xF0,0xF2} },  //HID_KEY_LANG1
    { {0x00,0x00}, {0x00,0xF0,0xF1} },  //HID_KEY_LANG2
    { {0x00,0xF8}, {0x00,0xF0,0x63} },  //HID_KEY_LANG3
    { {0x00,0xF7}, {0x00,0xF0,0x62} },  //HID_KEY_LANG4
    { {0x00,0xF6}, {0x00,0xF0,0x5F} },  //HID_KEY_LANG5
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LANG6
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LANG7
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LANG8
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_LANG9
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_ALTERNATE_ERASE
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_SYSREQ_ATTENTION
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_CANCEL
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_CLEAR
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_PRIOR
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_RETURN
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_SEPARATOR
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_OUT
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_OPER
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_CLEAR_AGAIN
    { {0x00,0x00}, {0x00,0x00,0x00} },  //HID_KEY_CRSEL_PROPS
    { {0x00,0x00}, {0x00,0x00,0x00} }   //HID_KEY_EXSEL
};


uint8_t const USB2PS2SBreak[][2][3] = {
    { {0x00,0x9D}, {0x00,0xF0,0x14} },  //HID_KEY_CONTROL_LEFT
    { {0x00,0x9A}, {0x00,0xF0,0x12} },  //HID_KEY_SHIFT_LEFT
    { {0x00,0xB8}, {0x00,0xF0,0x11} },  //HID_KEY_ALT_LEFT
    { {0xE0,0xDB}, {0xE0,0xF0,0x1F} },  //HID_KEY_GUI_LEFT
    { {0xE0,0x9D}, {0xE0,0xF0,0x14} },  //HID_KEY_CONTROL_RIGHT
    { {0x00,0xB6}, {0x00,0xF0,0x59} },  //HID_KEY_SHIFT_RIGHT
    { {0xE0,0xB8}, {0xE0,0xF0,0x11} },  //HID_KEY_ALT_RIGHT
    { {0xE0,0xDC}, {0xE0,0xF0,0x27} }   //HID_KEY_GUI_RIGHT
};


uint16_t const LKP_TM_RRATE[] = {
    33, 37, 42, 46, 50, 54, 58, 62, 67, 75, 83, 92, 100, 109, 116, 125, 133, 149, 162, 182, 200, 217, 233, 250, 270, 303, 333, 370, 400, 435, 476, 500
};

uint16_t const LKP_TM_DELAY[] = { 250, 500, 750, 1000 };

uint8_t const ATXT_OKAY =		0xAA;		// Scan code for "Diagnostics Passed"
uint8_t const AT_ACK =          0xFA;       // AT scan code for acknowledge


enum CommandSetCodes {
    CMD_RESET                               = 0xFF,     
    CMD_RESEND                              = 0xFE,     
    SET_KEY_TYPE_MAKE                       = 0xFD,     // PS2 ONLY
    SET_KEY_TYPE_MAKE_BREAK                 = 0xFC,     // PS2 ONLY
    SET_KEY_TYPE_TYPEMATIC                  = 0xFB,     // PS2 ONLY
    SET_ALL_KEYS_TYPEMATIC_MAKE_BREAK       = 0xFA,     // PS2 ONLY
    SET_ALL_KEYS_MAKE                       = 0xF9,     // PS2 ONLY
    SET_ALL_KEYS_MAKE_BREAK                 = 0xF8,     // PS2 ONLY
    SET_ALL_KEYS_TYPEMATIC                  = 0xF7,     // PS2 ONLY
    SET_DEFAULT                             = 0xF6,
    CMD_DISABLE                             = 0xF5,
    CMD_ENBALE                              = 0xF4,
    SET_TYPEMATIC_RATE_DELAY                = 0xF3,
    CMD_READ_ID                             = 0xF2,
    SET_SCAN_CODE_SET                       = 0xF0,     // PS2 ONLY
    CMD_EHCO                                = 0xEE,
    SET_RESET_LEDS                          = 0xED
};

